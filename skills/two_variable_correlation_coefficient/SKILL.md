---
name: 两个变量间的相关系数计算
description: 计算两个连续变量之间的皮尔逊相关系数，衡量变量间的线性相关程度和方向，并输出对应的统计显著性p值。
author: Doubao-1.8
version: 1.0
tag: 数学建模
trigger: 当需要分析两个连续变量的线性相关性、判断变量间关联强度时，调用此技能。
output_format: JSON格式，包含相关系数值（保留4位小数）、p值（保留4位小数）以及样本量信息。
---

## Workflow
1. 数据准备：收集两个连续型数值变量的样本数据，确保数据完整（无缺失值）或已完成缺失值处理（如删除、插补）。
2. 工具调用：使用`scripts/model.py`中的计算函数，输入两个变量的数据集。
3. 结果分析：根据输出的相关系数（范围-1到1）判断相关方向和强度，结合p值判断相关性的统计显著性（通常p<0.05视为显著）。

## Constraints
- 适用变量类型：仅适用于连续型数值变量，分类变量或有序变量需转换或使用其他相关分析方法。
- 数据分布假设：皮尔逊相关系数假设数据服从正态分布，若数据严重偏离正态分布，结果可能存在偏差。
- 缺失值处理：输入数据不能包含缺失值（NaN），需提前处理。
- 极端值影响：极端值可能显著改变相关系数结果，建议先进行异常值检测和处理。

## Tool Usage
相关系数的计算实现位于`scripts/model.py`，可通过调用其中的`calculate_correlation`函数完成。该函数接受两个数值型列表或numpy数组作为输入参数，返回包含相关系数、p值和样本量的字典结果。