{
    "skill_folder_name": "fuzzy_comprehensive_evaluation",
    "skill_md_content": "---\nname: 模糊综合评价法\ndescription: 一种基于模糊数学的多因素决策分析方法，用于解决受多个模糊因素影响的评价问题，如产品质量评估、绩效评价、方案优选等。\nauthor: Doubao-1.8\nversion: 1.0
tag: 数学建模\ntrigger: 当需要对包含多个模糊影响因素的对象进行综合评价时触发，例如：\"帮我用模糊综合评价法评估学生的综合表现\"、\"如何用模糊数学方法进行产品质量评级\"\noutput_format: |\n  {\n    \"comprehensive_vector\": 归一化后的综合评价向量,\n    \"evaluation_result\": 最终评价等级（基于最大隶属度原则）,\n    \"used_operator\": 所使用的模糊算子类型\n  }\n---\n\n## 工作流程\n1. **确定评价因素集U**：明确影响评价对象的主要因素，如U = {u1, u2, ..., un}。\n2. **建立评价集V**：设定评价的等级标准，如V = {v1, v2, ..., vm}。\n3. **构造模糊判断矩阵R**：通过专家评分或数据统计，确定每个因素对各评价等级的隶属度，形成n×m的矩阵R。\n4. **确定因素权重集A**：采用层次分析法(AHP)、熵权法或专家打分法确定各因素的权重，满足ΣAi = 1。\n5. **计算综合模糊评价向量B**：通过模糊算子将权重集A与判断矩阵R合成，得到B = A ∘ R。\n6. **归一化与结果分析**：对B进行归一化处理，根据最大隶属度原则或加权平均法确定最终评价结果。\n\n## 约束条件\n1. 评价因素应具有一定独立性，避免重叠影响。\n2. 权重集需满足归一化条件（权重之和为1）。\n3. 模糊判断矩阵的隶属度取值需在[0,1]区间内。\n4. 模糊算子的选择需根据实际问题场景确定，不同算子会导致不同的评价结果。\n5. 适用于多因素、模糊性较强的评价问题，不适用于因素清晰、量化明确的场景。\n\n## 工具使用\n本方法的Python实现已封装在`scripts/model.py`中，可通过导入其中的`fuzzy_comprehensive_evaluation`函数执行模糊综合评价。函数接收权重向量、模糊判断矩阵、评价集及可选的模糊算子类型作为输入，返回包含综合评价向量和最终评价结果的字典。",
    "python_code": "import numpy as np\n\ndef fuzzy_comprehensive_evaluation(weight_vector, judgment_matrix, evaluation_set, operator=\"M(+,·)\"):\n    \"\"\"\n    模糊综合评价法实现\n    参数:\n        weight_vector: list/np.array, 因素权重向量（需归一化，和为1）\n        judgment_matrix: list/np.array, n×m的模糊判断矩阵，n为因素数，m为评价等级数\n        evaluation_set: list, 评价等级集合，如[\"优秀\", \"良好\", \"中等\", \"差\"]\n        operator: str, 模糊算子类型，可选值：\"M(∨,∧)\", \"M(+,∧)\", \"M(∨,·)\", \"M(+,·)\"\n    返回:\n        dict: 包含综合评价向量、评价结果的字典\n    \"\"\"\n    # 转换为numpy数组\n    A = np.array(weight_vector, dtype=np.float64)\n    R = np.array(judgment_matrix, dtype=np.float64)\n    \n    # 输入验证\n    if not np.isclose(np.sum(A), 1.0, atol=1e-6):\n        raise ValueError(\"权重向量的和必须为1，请先归一化处理\")\n    if A.shape[0] != R.shape[0]:\n        raise ValueError(\"权重向量的维度必须与判断矩阵的行数（因素数）一致\")\n    if R.shape[1] != len(evaluation_set):\n        raise ValueError(\"判断矩阵的列数必须与评价集的元素个数一致\")\n    \n    # 选择模糊算子计算综合向量B\n    if operator == \"M(∨,∧)\":\n        # 最大-最小算子\n        B = np.max(np.minimum(A.reshape(-1, 1), R), axis=0)\n    elif operator == \"M(+,∧)\":\n        # 加权和-最小算子\n        B = np.sum(np.minimum(A.reshape(-1, 1), R), axis=0)\n    elif operator == \"M(∨,·)\":\n        # 最大-乘积算子\n        B = np.max(A.reshape(-1, 1) * R, axis=0)\n    elif operator == \"M(+,·)\":\n        # 加权和-乘积算子（常用）\n        B = A @ R\n    else:\n        raise ValueError(f\"不支持的模糊算子类型：{operator}，可选类型为'M(∨,∧)'、'M(+,∧)'、'M(∨,·)'、'M(+,·)'\")\n    \n    # 归一化处理\n    sum_B = np.sum(B)\n    B_normalized = B / sum_B if sum_B != 0 else B\n    \n    # 最大隶属度原则确定评价结果\n    max_idx = np.argmax(B_normalized)\n    evaluation_result = evaluation_set[max_idx]\n    \n    return {\n        \"comprehensive_vector\": np.round(B_normalized, 4).tolist(),\n        \"evaluation_result\": evaluation_result,\n        \"used_operator\": operator\n    }",
    "requirements": [
        "numpy"
    ],
    "examples_md_content": "# 模糊综合评价法使用示例\n\n## 示例1：学生综合表现评价\n### 输入参数\n- **权重向量**：[0.4, 0.1, 0.2, 0.3]（成绩占40%，出勤10%，课堂表现20%，作业30%）\n- **模糊判断矩阵**：\n```\n[\n    [0.6, 0.3, 0.1, 0.0],  # 成绩：60%优秀，30%良好，10%中等，0%差\n    [0.2, 0.5, 0.2, 0.1],  # 出勤：20%优秀，50%良好，20%中等，10%差\n    [0.3, 0.4, 0.2, 0.1],  # 课堂表现：30%优秀，40%良好，20%中等，10%差\n    [0.4, 0.4, 0.1, 0.1]   # 作业：40%优秀，40%良好，10%中等，10%差\n]\n```\n- **评价集**：[\"优秀\", \"良好\", \"中等\", \"差\"]\n- **模糊算子**：\"M(+,·)\"（加权和-乘积算子）\n\n### 调用代码\n```python\nfrom scripts.model import fuzzy_comprehensive_evaluation\n\nweight = [0.4, 0.1, 0.2, 0.3]\njudgment_matrix = [\n    [0.6, 0.3, 0.1, 0.0],\n    [0.2, 0.5, 0.2, 0.1],\n    [0.3, 0.4, 0.2, 0.1],\n    [0.4, 0.4, 0.1, 0.1]\n]\nevaluation_set = [\"优秀\", \"良好\", \"中等\", \"差\"]\n\nresult = fuzzy_comprehensive_evaluation(weight, judgment_matrix, evaluation_set, operator=\"M(+,·)\")\nprint(result)\n```\n\n### 预期输出\n```\n{\n    \"comprehensive_vector\": [0.46, 0.37, 0.12, 0.05],\n    \"evaluation_result\": \"优秀\",\n    \"used_operator\": \"M(+,·)\"\n}\n```\n\n## 示例2：不同模糊算子对比\n### 输入参数\n使用与示例1相同的权重、判断矩阵和评价集，更换算子为\"M(∨,∧)\"（最大-最小算子）\n\n### 调用代码\n```python\nresult = fuzzy_comprehensive_evaluation(weight, judgment_matrix, evaluation_set, operator=\"M(∨,∧)\")\nprint(result)\n```\n\n### 预期输出\n```\n{\n    \"comprehensive_vector\": [0.4, 0.3, 0.2, 0.1],\n    \"evaluation_result\": \"优秀\",\n    \"used_operator\": \"M(∨,∧)\"\n}\n```"
}