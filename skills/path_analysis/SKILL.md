---
name: 通径分析
description: 通径分析是一种用于分析变量间直接效应与间接效应的统计方法，通过分解相关系数为直接作用和间接作用，揭示变量间的因果关系和影响路径，常用于农业、经济学等领域的多变量关系研究。
author: Doubao-1.8
version: 1.0
trigger: ["通径分析", "路径分析", "直接效应", "间接效应", "变量影响路径"]
output_format: |
  {
    "相关系数矩阵": "各变量间的Pearson相关系数",
    "通径系数": "自变量对因变量的直接作用系数",
    "直接效应": "自变量对因变量的直接影响程度",
    "间接效应": "自变量通过其他变量对因变量的间接影响程度",
    "总效应": "直接效应与间接效应之和"
  }
---

## Workflow
1. **数据准备**：收集包含自变量和因变量的定量数据集，确保无缺失值或异常值，变量间存在线性关系。
2. **计算相关系数矩阵**：计算所有变量（自变量和因变量）之间的Pearson相关系数。
3. **估计通径系数**：通过多元线性回归模型，求解自变量对因变量的通径系数（即回归系数）。
4. **效应分解**：将自变量与因变量的相关系数分解为直接效应（通径系数）和间接效应（通过其他变量传递的影响）。
5. **结果验证**：检查模型的拟合优度（如R²）和多重共线性（VIF值），验证通径分析结果的合理性。
6. **结果输出**：输出相关系数矩阵、通径系数、直接效应、间接效应及总效应。

## Constraints
1. 所有变量必须为连续型定量变量，分类变量需先进行编码转换。
2. 样本量应足够大（建议至少为变量数的10倍以上），以保证结果的稳定性。
3. 变量间应避免严重的多重共线性（方差膨胀因子VIF<10），否则会影响通径系数的估计精度。
4. 假设变量间存在线性关系，若为非线性关系需先进行变量变换。

## Tool Usage
通径分析的Python实现位于`scripts/model.py`，可通过导入`PathAnalysis`类进行调用。具体步骤如下：
1. 准备包含自变量和因变量的Pandas DataFrame。
2. 实例化`PathAnalysis`类，传入数据集、自变量列表和因变量名称。
3. 调用`get_full_results()`方法获取完整分析结果，包含相关系数矩阵、通径系数、直接效应、间接效应、总效应、模型拟合优度及多重共线性检查结果。