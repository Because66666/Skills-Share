# 更改日志

所有对本项目的重要更改都将记录在本文件中，按倒序排列，最新版本在顶部。

## [Version 1.3.4] - 2026-01-30

### 移除 (Removed)
- **Docker 支持**: 移除所有 Docker 相关配置文件与脚本，包括 `Dockerfile`, `docker-compose.yml`, `docker-entrypoint.sh` 等，简化项目部署结构。
- **文档更新**: 移除文档中心关于 Docker 部署的章节。

## [Version 1.3.3] - 2026-01-30

### 变更 (Changed)
- **UI 调整**: 暂时隐藏 Skill 详情页的评论功能区及相关逻辑。

### 修复 (Fixed)
- **About 页面**: 修复团队成员头像无法显示的问题，改为使用图片标签渲染静态资源。

## [Version 1.3.2] - 2026-01-30

### 新增 (Added)
- **静态数据生成工具增强**:
  - **自动压缩**: `scripts/generate_skills_json.py` 脚本新增功能，自动将 `/skills` 下的每个 Skill 文件夹压缩为 Zip 包。
  - **附件生成**: 生成的 Zip 包存放在 `/public/zip` 目录下，并自动关联到 `skills.json` 的附件字段，供前端下载。

### 优化 (Optimized)
- **下载功能标准化**:
  - 新增 `src/utils/download.ts` 统一处理 Skill 下载逻辑，默认下载 `/zip/{id}.zip`。
  - 重构 **首页 (Home)**、**热门榜单 (Charts)**、**Skill 详情页 (Detail)** 的下载功能，统一调用新的下载函数。

## [Version 1.3.1] - 2026-01-29

### 修复 (Fixed)
- **首页 (Home)**: 
  - 修复 Skills 数据加载失败时无错误提示的问题。
  - 增加对 `skillsService.findAll()` 返回数据的校验逻辑，确保始终返回数组，防止页面崩溃。
  - 增加详细的调试日志，便于排查数据加载问题。
- **构建系统**: 修复 `App.tsx` 中未使用的 `Outlet` 导入导致的构建失败问题。

## [Version 1.3.0] - 2026-01-29

### 重构 (Refactor)
- **静态化重构**:
  - **移除后端依赖**: 前端全面移除对后端 API 的动态请求，适配纯静态部署环境。
  - **模拟数据层**: 重构 Service 层 (`authService`, `userService`, `skillsService` 等)，使用本地 Mock 数据和静态 JSON 文件替代后端接口。

### 新增 (Added)
- **数据生成工具**: 新增 Python 脚本 `scripts/generate_skills_json.py`，用于扫描 `skills` 目录下的 `SKILL.md` 文件，解析 Frontmatter 元数据并生成 `public/skills.json`，作为静态模式下的数据源。

### 变更 (Changed)
- **构建配置**: 修改 Vite 配置，移除 API 代理设置，确保构建产物可独立运行。

## [Version 1.2.7] - 2026-01-29

### 移除 (Removed)
- **需求文档模块**: 移除侧边栏“需求文档”入口及相关页面代码 (`/requirement-docs`)，精简系统功能。

## [Version 1.2.6] - 2026-01-28

### 修复 (Fixed)
- **认证系统**: 修复登录时提示 `401 Unauthorized` 的问题（恢复默认管理员账号数据）。
- **构建系统**: 修复前端构建时的未使用变量引用错误。

### 优化 (Optimized)
- **Skill 编辑器**:
  - **布局优化**: 基础信息与外观设置区域采用响应式 Grid 布局，减少页面纵向空间占用。
  - **交互微调**: 将“随机/自定义”外观切换开关移至“外观设置”标题栏右侧，视觉层级更清晰。

## [Version 1.2.5] - 2026-01-28

### 优化 (Optimized)
- **Skill 编辑器体验升级**:
  - **智能外观**: 新增“随机外观”模式，新建 Skill 时默认随机生成图标与主题色，支持一键切换回“自定义”模式。
  - **自动标签**: 引入智能标签提取功能，当 Markdown 内容变更时，自动提炼并推荐 Top 5 关键词作为标签 (支持防抖与停用词过滤)。
  - **交互优化**: 
    - 优化了外观设置区域的 UI 布局，操作更加直观。
    - **双栏布局**: 调整编辑器布局为左右双栏模式。左侧集成基础信息表单与 Markdown 编辑器，右侧实时展示预览效果，提升写作时的对照体验。

## [Version 1.2.4] - 2026-01-28

### 变更 (Changed)
- **附件管理升级**:
  - **上传限制**: 创建 Skill 时限制仅允许上传 1 个附件（新文件自动覆盖旧文件）。
  - **删除机制**:
    - 用户侧：`Delete` 操作调整为软删除 (Soft Delete)，数据保留但不可见。
    - 管理侧：新增“彻底删除”功能，物理删除 Skill 及其关联的附件文件。
  - **清理工具**: 新增附件一键清理页面 (`/admin/cleanup`)，用于清理未关联的孤儿附件。

## [Version 1.2.3] - 2026-01-28

### 新增 (Added)
- **附件管理系统**:
  - **上传功能**: Skill 编辑页支持上传附件（支持 PDF, Word, Zip, Markdown 等格式，最大 10MB）。
  - **下载功能**: Skill 详情页展示附件列表，支持一键下载。
  - **后端支持**: 新增 `UploadModule` 实现文件存储与静态资源服务，采用 UUID 命名避免冲突。
  - **数据关联**: 升级 `Skill` 模型，支持与 `Attachment` 的一对多关联。

## [Version 1.2.2] - 2026-01-27

### 优化 (Optimized)
- **个人中心 (Profile)**:
  - 新增“我的 Skills”展示区块，支持以卡片形式查看我发布的所有 Skill。
  - 增加 Skill 状态角标（审核中/已拒绝），方便用户实时了解作品状态。
  - 优化空状态展示，提供快捷发布入口。
- **首页 (Home)**:
  - 优化交互逻辑，未登录用户不再显示“发布 Skill”按钮，引导用户先登录。
